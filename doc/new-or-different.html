

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>What’s New or Different &mdash; RandomGen 0+untagged.60.g7808de1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="RandomGen 0+untagged.60.g7808de1 documentation" href="index.html"/>
        <link rel="next" title="System Entropy" href="entropy.html"/>
        <link rel="prev" title="Multithreaded Generation" href="multithreading.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> RandomGen
          

          
          </a>

          
            
            
              <div class="version">
                0.+
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="parallel.html">Parallel Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="multithreading.html">Multithreaded Generation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">What’s New or Different</a></li>
<li class="toctree-l1"><a class="reference internal" href="entropy.html">Reading System Entropy</a></li>
<li class="toctree-l1"><a class="reference internal" href="performance.html">Comparing Performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="extending.html">Extending</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="generator.html">Random Generator</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="brng/index.html">Basic Random Number Generators</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="change-log.html">Change Log</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">RandomGen</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>What’s New or Different</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/new-or-different.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="what-s-new-or-different">
<span id="new-or-different"></span><h1>What’s New or Different<a class="headerlink" href="#what-s-new-or-different" title="Permalink to this headline">¶</a></h1>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The Box-Muller method used to produce NumPy’s normals is no longer available.
It is not possible to exactly reproduce the random values produced from NumPy
for the normal distribution or any other distribution that relies on the
normal such as the gamma or student’s t.</p>
</div>
<ul class="simple">
<li><a class="reference internal" href="entropy.html#randomgen.entropy.random_entropy" title="randomgen.entropy.random_entropy"><code class="xref py py-func docutils literal notranslate"><span class="pre">random_entropy()</span></code></a> provides access to the system
source of randomness that is used in cryptographic applications (e.g.,
<code class="docutils literal notranslate"><span class="pre">/dev/urandom</span></code> on Unix).</li>
<li>Simulate from the complex normal distribution
(<a class="reference internal" href="generated/randomgen.generator.RandomGenerator.complex_normal.html#randomgen.generator.RandomGenerator.complex_normal" title="randomgen.generator.RandomGenerator.complex_normal"><code class="xref py py-meth docutils literal notranslate"><span class="pre">complex_normal()</span></code></a>)</li>
<li>The normal, exponential and gamma generators use 256-step Ziggurat
methods which are 2-10 times faster than NumPy’s default implementation in
<a class="reference internal" href="generated/randomgen.generator.RandomGenerator.standard_normal.html#randomgen.generator.RandomGenerator.standard_normal" title="randomgen.generator.RandomGenerator.standard_normal"><code class="xref py py-meth docutils literal notranslate"><span class="pre">standard_normal()</span></code></a>,
<a class="reference internal" href="generated/randomgen.generator.RandomGenerator.standard_exponential.html#randomgen.generator.RandomGenerator.standard_exponential" title="randomgen.generator.RandomGenerator.standard_exponential"><code class="xref py py-meth docutils literal notranslate"><span class="pre">standard_exponential()</span></code></a> or
<a class="reference internal" href="generated/randomgen.generator.RandomGenerator.standard_gamma.html#randomgen.generator.RandomGenerator.standard_gamma" title="randomgen.generator.RandomGenerator.standard_gamma"><code class="xref py py-meth docutils literal notranslate"><span class="pre">standard_gamma()</span></code></a>.</li>
<li>The Box-Muller used to produce NumPy’s normals is no longer available.</li>
<li>All basic random generators functions to produce doubles, uint64s and
uint32s via CTypes (<a class="reference internal" href="brng/generated/randomgen.xoroshiro128.Xoroshiro128.ctypes.html#randomgen.xoroshiro128.Xoroshiro128.ctypes" title="randomgen.xoroshiro128.Xoroshiro128.ctypes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ctypes()</span></code></a>)
and CFFI (<a class="reference internal" href="brng/generated/randomgen.xoroshiro128.Xoroshiro128.cffi.html#randomgen.xoroshiro128.Xoroshiro128.cffi" title="randomgen.xoroshiro128.Xoroshiro128.cffi"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cffi()</span></code></a>).  This allows
these basic RNGs to be used in numba.</li>
<li>The basic random number generators can be used in downstream projects via
Cython.</li>
</ul>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="kn">from</span> <span class="nn">randomgen</span> <span class="kn">import</span> <span class="n">Xoroshiro128</span>

<span class="gp">In [2]: </span><span class="n">rg</span> <span class="o">=</span> <span class="n">Xoroshiro128</span><span class="p">()</span><span class="o">.</span><span class="n">generator</span>

<span class="gp">In [3]: </span><span class="o">%</span><span class="k">timeit</span> rg.standard_normal(1000000)
<span class="gp">   ...: </span><span class="kn">from</span> <span class="nn">numpy.random</span> <span class="kn">import</span> <span class="n">standard_normal</span>
<span class="gp">   ...: </span><span class="o">%</span><span class="k">timeit</span> standard_normal(1000000)
<span class="gp">   ...: </span>
<span class="go">13.1 ms +- 198 us per loop (mean +- std. dev. of 7 runs, 100 loops each)</span>
<span class="go">50.6 ms +- 807 us per loop (mean +- std. dev. of 7 runs, 10 loops each)</span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="kn">from</span> <span class="nn">randomgen</span> <span class="kn">import</span> <span class="n">Xoroshiro128</span>

<span class="gp">In [7]: </span><span class="n">rg</span> <span class="o">=</span> <span class="n">Xoroshiro128</span><span class="p">()</span><span class="o">.</span><span class="n">generator</span>

<span class="gp">In [8]: </span><span class="o">%</span><span class="k">timeit</span> rg.standard_exponential(1000000)
<span class="gp">   ...: </span><span class="kn">from</span> <span class="nn">numpy.random</span> <span class="kn">import</span> <span class="n">standard_exponential</span>
<span class="gp">   ...: </span><span class="o">%</span><span class="k">timeit</span> standard_exponential(1000000)
<span class="gp">   ...: </span>
<span class="go">8.29 ms +- 309 us per loop (mean +- std. dev. of 7 runs, 100 loops each)</span>
<span class="go">59.6 ms +- 865 us per loop (mean +- std. dev. of 7 runs, 10 loops each)</span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [11]: </span><span class="kn">from</span> <span class="nn">randomgen</span> <span class="kn">import</span> <span class="n">Xoroshiro128</span>

<span class="gp">In [12]: </span><span class="n">rg</span> <span class="o">=</span> <span class="n">Xoroshiro128</span><span class="p">()</span><span class="o">.</span><span class="n">generator</span>

<span class="gp">In [13]: </span><span class="o">%</span><span class="k">timeit</span> rg.standard_gamma(3.0, 1000000)
<span class="gp">   ....: </span><span class="kn">from</span> <span class="nn">numpy.random</span> <span class="kn">import</span> <span class="n">standard_gamma</span>
<span class="gp">   ....: </span><span class="o">%</span><span class="k">timeit</span> standard_gamma(3.0, 1000000)
<span class="gp">   ....: </span>
<span class="go">33.1 ms +- 635 us per loop (mean +- std. dev. of 7 runs, 10 loops each)</span>
<span class="go">81 ms +- 1.17 ms per loop (mean +- std. dev. of 7 runs, 10 loops each)</span>
</pre></div>
</div>
<ul class="simple">
<li>Optional <code class="docutils literal notranslate"><span class="pre">dtype</span></code> argument that accepts <code class="docutils literal notranslate"><span class="pre">np.float32</span></code> or <code class="docutils literal notranslate"><span class="pre">np.float64</span></code>
to produce either single or double prevision uniform random variables for
select distributions<ul>
<li>Uniforms (<a class="reference internal" href="generated/randomgen.generator.RandomGenerator.random_sample.html#randomgen.generator.RandomGenerator.random_sample" title="randomgen.generator.RandomGenerator.random_sample"><code class="xref py py-meth docutils literal notranslate"><span class="pre">random_sample()</span></code></a> and
<a class="reference internal" href="generated/randomgen.generator.RandomGenerator.rand.html#randomgen.generator.RandomGenerator.rand" title="randomgen.generator.RandomGenerator.rand"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rand()</span></code></a>)</li>
<li>Normals (<a class="reference internal" href="generated/randomgen.generator.RandomGenerator.standard_normal.html#randomgen.generator.RandomGenerator.standard_normal" title="randomgen.generator.RandomGenerator.standard_normal"><code class="xref py py-meth docutils literal notranslate"><span class="pre">standard_normal()</span></code></a> and
<a class="reference internal" href="generated/randomgen.generator.RandomGenerator.randn.html#randomgen.generator.RandomGenerator.randn" title="randomgen.generator.RandomGenerator.randn"><code class="xref py py-meth docutils literal notranslate"><span class="pre">randn()</span></code></a>)</li>
<li>Standard Gammas (<a class="reference internal" href="generated/randomgen.generator.RandomGenerator.standard_gamma.html#randomgen.generator.RandomGenerator.standard_gamma" title="randomgen.generator.RandomGenerator.standard_gamma"><code class="xref py py-meth docutils literal notranslate"><span class="pre">standard_gamma()</span></code></a>)</li>
<li>Standard Exponentials (<a class="reference internal" href="generated/randomgen.generator.RandomGenerator.standard_exponential.html#randomgen.generator.RandomGenerator.standard_exponential" title="randomgen.generator.RandomGenerator.standard_exponential"><code class="xref py py-meth docutils literal notranslate"><span class="pre">standard_exponential()</span></code></a>)</li>
</ul>
</li>
</ul>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [16]: </span><span class="kn">from</span> <span class="nn">randomgen</span> <span class="kn">import</span> <span class="n">Xoroshiro128</span>

<span class="gp">In [17]: </span><span class="n">rg</span> <span class="o">=</span> <span class="n">Xoroshiro128</span><span class="p">()</span><span class="o">.</span><span class="n">generator</span>

<span class="gp">In [18]: </span><span class="n">rg</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gh">Out[18]: </span><span class="go">RandomGenerator(Xoroshiro128) at 0x2B54310502C8</span>

<span class="gp">In [19]: </span><span class="n">rg</span><span class="o">.</span><span class="n">random_sample</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;d&#39;</span><span class="p">)</span>
<span class="go">                                                         Out[19]: array([0.31483881, 0.00208035, 0.06399498])</span>

<span class="gp">In [20]: </span><span class="n">rg</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">                                                                                                              Out[20]: RandomGenerator(Xoroshiro128) at 0x2B54310502C8</span>

<span class="gp">In [21]: </span><span class="n">rg</span><span class="o">.</span><span class="n">random_sample</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;f&#39;</span><span class="p">)</span>
<span class="go">                                                                                                                                                                       Out[21]: array([0.11265862, 0.31483877, 0.6936537 ], dtype=float32)</span>
</pre></div>
</div>
<ul>
<li><p class="first">Optional <code class="docutils literal notranslate"><span class="pre">out</span></code> argument that allows existing arrays to be filled for
select distributions</p>
<ul class="simple">
<li>Uniforms (<a class="reference internal" href="generated/randomgen.generator.RandomGenerator.random_sample.html#randomgen.generator.RandomGenerator.random_sample" title="randomgen.generator.RandomGenerator.random_sample"><code class="xref py py-meth docutils literal notranslate"><span class="pre">random_sample()</span></code></a>)</li>
<li>Normals (<a class="reference internal" href="generated/randomgen.generator.RandomGenerator.standard_normal.html#randomgen.generator.RandomGenerator.standard_normal" title="randomgen.generator.RandomGenerator.standard_normal"><code class="xref py py-meth docutils literal notranslate"><span class="pre">standard_normal()</span></code></a>)</li>
<li>Standard Gammas (<a class="reference internal" href="generated/randomgen.generator.RandomGenerator.standard_gamma.html#randomgen.generator.RandomGenerator.standard_gamma" title="randomgen.generator.RandomGenerator.standard_gamma"><code class="xref py py-meth docutils literal notranslate"><span class="pre">standard_gamma()</span></code></a>)</li>
<li>Standard Exponentials (<a class="reference internal" href="generated/randomgen.generator.RandomGenerator.standard_exponential.html#randomgen.generator.RandomGenerator.standard_exponential" title="randomgen.generator.RandomGenerator.standard_exponential"><code class="xref py py-meth docutils literal notranslate"><span class="pre">standard_exponential()</span></code></a>)</li>
</ul>
<p>This allows multithreading to fill large arrays in chunks using suitable
PRNGs in parallel.</p>
</li>
</ul>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [22]: </span><span class="kn">from</span> <span class="nn">randomgen</span> <span class="kn">import</span> <span class="n">Xoroshiro128</span>

<span class="gp">In [23]: </span><span class="n">rg</span> <span class="o">=</span> <span class="n">Xoroshiro128</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">generator</span>

<span class="gp">In [24]: </span><span class="n">existing</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>

<span class="gp">In [25]: </span><span class="n">rg</span><span class="o">.</span><span class="n">random_sample</span><span class="p">(</span><span class="n">out</span><span class="o">=</span><span class="n">existing</span><span class="p">[:</span><span class="mi">2</span><span class="p">])</span>
<span class="gh">Out[25]: </span><span class="go">array([0.31483881, 0.00208035])</span>

<span class="gp">In [26]: </span><span class="k">print</span><span class="p">(</span><span class="n">existing</span><span class="p">)</span>
<span class="go">                                         [0.31483881 0.00208035 0.         0.        ]</span>
</pre></div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="entropy.html" class="btn btn-neutral float-right" title="System Entropy" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="multithreading.html" class="btn btn-neutral" title="Multithreaded Generation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Kevin Sheppard.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0+untagged.60.g7808de1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>